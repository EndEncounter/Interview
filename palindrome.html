<script>
	"use strict"
	function main()
	{

		function reverse_number(num)
		{
			//function to reverse a number
			let number
			let rem
			let reverse_number = ""
			number = num
			while (number != 0)
			{
				rem = number%10
				number = Math.floor(number/10)
				reverse_number = reverse_number + rem.toString()	
				
			}
			return(reverse_number)
		}

		function is_palindrome(num)
		{
			//check if n is palindrome
			if(num == reverse_number(num))
			{
				return true
			}
			else
			{
				return false
			}
		}

		function is_28(num)
		{
			//check if the number is 28
			let a
			let i
			let total = 0
			a = num.toString().split("").map(Number)

			for(i=0;i<a.length;i++)
			{
				total = total + a[i] 
			}
			if(total == 28)
			{
				return true
			}
			else
			{
				return false
			}
		}
		
		function part1(start_number,end_number)
		{
			let i 			
			let j
			let ans = 0		
			
			stop:
			for(i = start_number;i>=end_number;i--)
			{
				for(j = start_number;j>=end_number;j--)
				{
					ans = i * j
					if(is_palindrome(ans) && ans != 0)
					{
						document.write(i+" * "+j+" = "+ans)
						break stop
					}
					
				}
			}
		}

		
		function part2(start_number,end_number)
		{
			let i
			let j
			let ans
			let highest =0
			let a
			let b
			stop:
			for(i=start_number;i>=end_number;i--)
			{
				for(j=i;j>=end_number;j--)
				{
					ans = i*j
					if (ans%10==0)
					{
						continue
					}
					if(ans<highest)
					{
						continue
					}
					if(is_palindrome(ans))
					{
						if(!is_28(ans))
						{
							continue
						}
						else
						{
							highest=ans
							a = i
							b = j
						}
					}
					
				}
					
			}
			document.write(a+" * "+b+" = "+highest)
		}

		function run_it()
		{
			let start
			let end
			let time

			document.write("Part1 <br>")
			start = new Date().getTime()
			part1(9999,1000)
			end = new Date().getTime()
			time = end - start			
			document.write("<br>"+time+"ms"+"<br> <br>")
			

			document.write("Part2 <br>")
			start = new Date().getTime()
			part2(9999,1000)
			end = new Date().getTime()
			time = end - start
			document.write("<br>"+time+"ms")
		}

		
		run_it()
		
	}
	

	main()
</script>
